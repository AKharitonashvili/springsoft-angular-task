<section class="flex justify-center p-4">
  <form
    class="flex w-full max-w-sm flex-col gap-4 rounded-md border border-solid border-neutral-500 p-4"
    [formGroup]="profileForm"
    (ngSubmit)="onSubmit()">
    <mat-form-field appearance="outline">
      <mat-label>First Name</mat-label>
      <input
        matInput
        formControlName="firstName"
        placeholder="Enter your first name" />
      @if (
        profileForm.get('firstName')?.invalid &&
        profileForm.get('firstName')?.touched
      ) {
        <mat-error> First Name is required </mat-error>
      }
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Last Name</mat-label>
      <input
        matInput
        formControlName="lastName"
        placeholder="Enter your last name" />
      @if (
        profileForm.get('lastName')?.invalid &&
        profileForm.get('lastName')?.touched
      ) {
        <mat-error> Last Name is required </mat-error>
      }
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Email</mat-label>
      <input
        matInput
        type="email"
        formControlName="email"
        placeholder="Enter your email" />
      @if (
        profileForm.get('email')?.invalid && profileForm.get('email')?.touched
      ) {
        <mat-error> A valid email is required </mat-error>
      }
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Phone Number (Optional)</mat-label>
      <input
        matInput
        type="text"
        formControlName="phoneNumber"
        placeholder="Enter your phone number" />

      @if (profileForm.get('phoneNumber')?.hasError('minlength')) {
        <mat-error> Phone number must be at least 10 digits long. </mat-error>
      }

      @if (profileForm.get('phoneNumber')?.hasError('maxlength')) {
        <mat-error>
          Phone number cannot be more than 15 digits long.
        </mat-error>
      }

      @if (profileForm.get('phoneNumber')?.hasError('pattern')) {
        <mat-error> Only numbers are allowed in phone number. </mat-error>
      }
    </mat-form-field>

    <section class="my-4">
      <app-file-upload
        formControlName="profilePicture"
        [requiredFileType]="'image/*'" />
    </section>

    <button
      mat-raised-button
      color="primary"
      type="submit"
      [disabled]="profileForm.invalid">
      Submit
    </button>
  </form>
</section>
